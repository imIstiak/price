<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RMB → BDT Pricing Calculator</title>
  <style>
    :root{
      --bg:#f6fbff;
      --panel:#e3f6f5;
      --ink:#222;
      --muted:#7a7a7a;
      --accent:#38b6ff;
      --accent-dark:#009688;
      --line:#cce3ea;
      --ok:#009688;
      --warn:#ffd166;
      --shadow:0 8px 32px rgba(56,182,255,0.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:Inter,ui-sans-serif,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,Apple Color Emoji,Segoe UI Emoji; background:var(--bg); color:var(--ink);}

  .wrap{max-width:1100px;margin:32px auto;padding:32px;background:var(--panel);border-radius:32px;box-shadow:var(--shadow)}
    .title{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap}
  .title h1{font-size:36px;margin:0;letter-spacing:.3px;color:var(--accent-dark);font-weight:800;}
  .card{background:var(--panel); border:1.5px solid var(--line); border-radius:20px; padding:28px; box-shadow:var(--shadow)}
  .grid{display:grid;grid-template-columns:repeat(12,1fr); gap:24px}
    .g-6{grid-column:span 6}
    .g-4{grid-column:span 4}
    .g-12{grid-column:span 12}
    @media (max-width:1000px){.g-6,.g-4{grid-column:span 12}}

  label{display:block;font-size:16px;color:var(--accent-dark);margin:0 0 10px 2px;font-weight:600;}
  input[type="number"], input[type="text"]{width:100%;padding:16px 18px;border-radius:14px;border:1.5px solid var(--accent);background:#f7fafc;color:var(--ink);outline:none;font-size:18px;box-shadow:0 2px 12px rgba(67,234,124,0.05);}
  input[type="number"]:focus{border-color:var(--accent-dark); box-shadow:0 0 0 4px rgba(67,234,124,.12)}
  .row{display:flex;gap:18px;align-items:center;flex-wrap:wrap}
  .hint{font-size:14px;color:var(--muted);font-style:italic;}
  .pill{display:inline-flex;align-items:center;gap:12px;padding:12px 18px;border-radius:999px;background:#fff;border:1.5px solid var(--accent-dark);color:var(--accent-dark);font-size:16px;font-weight:600;box-shadow:0 2px 8px #43ea7c22;}
  .btn{appearance:none;border:1.5px solid var(--accent-dark);background:var(--accent);color:#fff;padding:14px 22px;border-radius:14px;cursor:pointer;font-size:18px;font-weight:700;transition:box-shadow .2s;box-shadow:0 2px 8px #43ea7c22;}
  .btn.primary{background:var(--accent-dark);color:#fff;border-color:var(--accent);box-shadow:0 2px 12px #43ea7c22;}
  .btn:hover{filter:brightness(1.09);box-shadow:0 4px 16px #43ea7c44;}

  .stat{padding:20px;border-radius:16px;background:#f7fafc;border:1.5px solid var(--line);box-shadow:0 2px 12px #43ea7c11;}
  .stat h3{margin:0 0 8px;font-size:18px;color:var(--muted);font-weight:700;}
  .money{font-weight:900;font-size:28px;color:var(--ink);}
  .win{color:#fff;background:var(--accent-dark);padding:12px 0;border-radius:10px;font-size:36px;box-shadow:0 2px 16px #43ea7c44;text-align:center;display:block;letter-spacing:1px;}
  .warn{color:var(--warn);}

  table{width:100%;border-collapse:collapse;border-spacing:0;background:#fff;border-radius:12px;overflow:hidden;}
  th,td{padding:16px 12px;border-bottom:1.5px solid var(--line);text-align:left;font-size:16px}
  th{color:var(--accent-dark);font-weight:700;background:#f7fafc;}

  .footer{margin-top:24px;color:var(--muted);font-size:15px;font-weight:600;}
  .k{color:var(--accent-dark);font-weight:700;}
  .muted{color:var(--muted);font-weight:600;}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="title">
      <h1>RMB → BDT Product Pricing Calculator</h1>
      <div class="pill">Rate <strong>1 RMB = 18 BDT</strong> · Agent fee <strong>15%</strong> · Weight <strong>750 BDT/kg</strong> · Packing <strong>10 BDT</strong></div>
    </div>

    <div class="card" style="margin-top:16px">
      <div class="grid">
        <div class="g-4">
          <label for="rmbPrice">China Product Price (RMB)</label>
          <input id="rmbPrice" type="number" placeholder="" min="0" step="0.01" />
        </div>
        <div class="g-4">
          <label for="courierRmb">Fixed Courier Cost in China (RMB) <span class="muted">(default 5)</span></label>
          <input id="courierRmb" type="number" value="5" min="0" step="0.01" />
        </div>

        <div class="g-4">
          <label for="profitMargin">Desired Profit Margin (%) <span class="muted">(default 30%)</span></label>
          <input id="profitMargin" type="number" value="30" min="0" step="1" />
        </div>

        <div class="g-4">
          <label for="weightKg">Product Weight (kg)</label>
          <input id="weightKg" type="number" placeholder="" min="0" step="0.01" />
        </div>

        <div class="g-4">
          <label for="salaryBdt">Moderator Salary (BDT / month)</label>
          <input id="salaryBdt" type="number" value="5000" min="0" step="1" />
        </div>
        <div class="g-4">
          <label for="monthlyUnits">Expected Sales (units / month) <span class="muted">(default 250)</span></label>
          <input id="monthlyUnits" type="number" value="250" min="1" step="1" />
        </div>

        <div class="g-4">
          <label for="adUsd">Ad Spend (USD / month) <span class="muted">(default 400)</span></label>
          <input id="adUsd" type="number" value="400" min="0" step="1" />
        </div>
        <div class="g-4">
          <label for="usdRate">USD Rate (BDT per $) <span class="muted">(fixed 125)</span></label>
          <input id="usdRate" type="number" value="125" min="0" step="0.01" disabled />
        </div>
        <div class="g-4">
          <label>Rounding</label>
          <div class="row">
            <button class="btn" id="roundNone">Exact</button>
            <button class="btn primary" id="round100">Nearest 100</button>
          </div>
          <div class="hint">Keep <span class="k">Nearest 100</span> for clean pricing.</div>
        </div>
      </div>
    </div>

    <div class="grid" style="margin-top:16px">
      <div class="g-6">
        <div class="card">
          <div class="grid">
            <div class="g-12 stat">
              <h3>Recommended Selling Price</h3>
              <div class="money win" id="sellingPrice">৳ 0</div>
              <div class="hint">Landed × (1 + margin)</div>
            </div>
            <div class="g-12 stat">
              <h3>Landed Product Cost (BDT) — incl. fixed cost per unit</h3>
              <div class="money" id="landedCost">৳ 0</div>
              <div class="hint">(Buying + Courier + 15% agent fee) + Weight + Packing + Fixed cost per unit</div>
            </div>
            <div class="g-6 stat">
              <h3>Profit / Unit</h3>
              <div class="money" id="profitPerUnit">৳ 0</div>
              <div class="hint">Selling − Landed</div>
            </div>
            <div class="g-6 stat">
              <h3>Fixed Cost Per Unit</h3>
              <div class="money" id="fixedPerUnit">৳ 0</div>
              <div class="hint">(Salary + Ads×Rate) / Expected units</div>
            </div>
             
          </div>
        </div>
      </div>

      <div class="g-6">
        <div class="card">
          <h3 style="margin:0 0 8px">Breakdown</h3>
          <table>
            <thead>
              <tr><th>Component</th><th>Amount (BDT)</th></tr>
            </thead>
            <tbody id="breakdownRows">
              <!-- dynamic rows -->
            </tbody>
          </table>
          <div class="footer">Customer delivery charge is separate (not included).</div>
        </div>
      </div>
    </div>

    <div class="footer">Formula: <span class="muted">Variable landed = (RMB×18 + Courier×18) + 15% of (RMB×18 + Courier×18) + (Weight×750) + Packing. Fixed/unit = (Salary + AdUSD×USDRate) / MonthlyUnits. Total landed = Variable landed + Fixed/unit. Selling = Total landed × (1 + Margin%). Rounding: optional nearest 100.</span></div>
  </div>

  <script>
    // Fixed parameters
    const RMB_TO_BDT = 18;        // 1 RMB = 18 BDT (fixed)
    const AGENT_COMMISSION = 0.15; // 15% on (buying + courier)
    const WEIGHT_PER_KG = 750;     // 750 BDT per kg
    const PACKING_BDT = 10;        // fixed packing

    // Elements
    const rmbPrice = document.getElementById('rmbPrice');
    const weightKg = document.getElementById('weightKg');
    const courierRmb = document.getElementById('courierRmb');
    const profitMargin = document.getElementById('profitMargin');
    const salaryBdt = document.getElementById('salaryBdt');
    const monthlyUnits = document.getElementById('monthlyUnits');
    const adUsd = document.getElementById('adUsd');
    const usdRate = document.getElementById('usdRate');

    const roundNone = document.getElementById('roundNone');
    const round100 = document.getElementById('round100');

    const landedCostEl = document.getElementById('landedCost');
  const sellingPriceEl = document.getElementById('sellingPrice');
  const sellingPriceBottomEl = document.getElementById('sellingPriceBottom');
    const profitPerUnitEl = document.getElementById('profitPerUnit');
    const fixedPerUnitEl = document.getElementById('fixedPerUnit');
    const breakdownRows = document.getElementById('breakdownRows');

    let roundingMode = 100; // default to nearest 100 as per preference

    const fmtBDT = (n) => new Intl.NumberFormat('en-IN', { maximumFractionDigits: 0 }).format(n);

    function ceilToNearest(n, base){
      return Math.ceil(n / base) * base;
    }

    function calc(){
      const rmb = parseFloat(rmbPrice.value) || 0;
      const kg  = parseFloat(weightKg.value) || 0;
      const courier = parseFloat(courierRmb.value) || 0;
      const marginPct = (parseFloat(profitMargin.value) || 0) / 100;

      const salary = parseFloat(salaryBdt.value) || 0;
      const units  = Math.max(1, parseFloat(monthlyUnits.value) || 1); // avoid /0
      const adUSD  = parseFloat(adUsd.value) || 0;
      const usdRt  = parseFloat(usdRate.value) || 125;

      // Conversions & components (variable)
      const buyingBDT = rmb * RMB_TO_BDT;
      const courierBDT = courier * RMB_TO_BDT;
      const agentFee = (buyingBDT + courierBDT) * AGENT_COMMISSION; // per spec
      const weightCost = kg * WEIGHT_PER_KG;
      const packing = PACKING_BDT;

      const variableLanded = buyingBDT + courierBDT + agentFee + weightCost + packing;

      // Fixed cost per unit
      const adBDT = adUSD * usdRt;
      const fixedPerUnit = (salary + adBDT) / units;

      // Total landed (incl. fixed)
      const landed = variableLanded + fixedPerUnit;

      // Selling
      let selling = landed * (1 + marginPct);
      if(roundingMode){ selling = ceilToNearest(selling, roundingMode); }

      const profit = Math.max(0, selling - landed);

      // Render headline stats
      landedCostEl.textContent = `৳ ${fmtBDT(landed)}`;
  sellingPriceEl.textContent = `৳ ${fmtBDT(selling)}`;
  if(sellingPriceBottomEl) sellingPriceBottomEl.textContent = `৳ ${fmtBDT(selling)}`;
      profitPerUnitEl.textContent = `৳ ${fmtBDT(profit)}`;
      fixedPerUnitEl.textContent = `৳ ${fmtBDT(fixedPerUnit)}`;

      // Breakdown table
      breakdownRows.innerHTML = '';
      const rows = [
        { name: `Buying (RMB × ${RMB_TO_BDT})`, val: buyingBDT },
        { name: `Courier in China (RMB × ${RMB_TO_BDT})`, val: courierBDT },
        { name: `Agent commission (15% on buying+courier)`, val: agentFee },
        { name: `Weight cost (kg × ${WEIGHT_PER_KG})`, val: weightCost },
        { name: `Packing`, val: packing },
        { name: `Fixed cost per unit`, val: fixedPerUnit },
      ];
      rows.forEach(r=>{
        const tr = document.createElement('tr');
        const td1 = document.createElement('td'); td1.textContent = r.name; tr.appendChild(td1);
        const td2 = document.createElement('td'); td2.textContent = `৳ ${fmtBDT(r.val)}`; tr.appendChild(td2);
        breakdownRows.appendChild(tr);
      });
      const trL = document.createElement('tr'); trL.innerHTML = `<td><strong>Total Landed Cost</strong></td><td><strong>৳ ${fmtBDT(landed)}</strong></td>`; breakdownRows.appendChild(trL);
      const trS = document.createElement('tr'); trS.innerHTML = `<td><strong>Selling Price</strong></td><td><strong>৳ ${fmtBDT(selling)}</strong></td>`; breakdownRows.appendChild(trS);
    }

    // Event listeners
    [rmbPrice, weightKg, courierRmb, profitMargin, salaryBdt, monthlyUnits, adUsd].forEach(el=> el.addEventListener('input', calc));

    document.getElementById('roundNone').addEventListener('click', e=>{ e.preventDefault(); roundingMode = 0; roundNone.classList.add('primary'); round100.classList.remove('primary'); calc();});
    document.getElementById('round100').addEventListener('click', e=>{ e.preventDefault(); roundingMode = 100; round100.classList.add('primary'); roundNone.classList.remove('primary'); calc();});

    // Initial render
    calc();
  </script>
</body>
</html> 
